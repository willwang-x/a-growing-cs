# Random number generation

![NCIS Season 16 Episode 1](https://i.imgur.com/11Q7M9n.jpg)

> 里面的颜色块是蜡，蜡没加热前密度微微大于水，加热后又小于水，所以就上下浮动。


## 起源


美国电视剧《海军罪案调查处》（NCIS Season 16 Episode 1），讲述一家公司使用熔岩灯(Lava Lamps)作为随机数生成器，结果被插入木马。

这个其实是Cloudflare的发明，现在Cloudflare发[声明](https://blog.cloudflare.com/statement-concerning-events-at-glowbeam-technologies/)了，表示该发明从未投入实用。 

哈哈哈。

## 为什么随机数很重要？ 

伪随机数生成易被破解，如老虎机，如果你知道老虎机的随机数生成器的种子，那么你就可用这个种子做相同随机生成，会得到相同的答案，就能获得Money, Money, Money。所以，出于安全考虑，工业界需要获得真随机数。

## 关于 Cloudflare

Cloudflare 是一家提供安全服务的云服务商，向客户提供了免费的 SSL 服务。因为要处理海量的**加密流量**，它需要使用到大量的随机数。这些随机数都是伪随机数生成器产生的。伪随机数生成器产生的随机数能被**预测和破解**。

那么如何减少随机数的可预测性？

Cloudflare 披露了它的方法——使用熔岩灯。熔岩灯的名字源于内部不定形状的蜡滴的缓慢流动，让人联想到熔岩的流动。Cloudflare 利用**摄像头监视熔岩灯，拍摄视频和照片**，然后将其转变成无法预测的**随机比特流**，再用它生成**密钥**。


## Read More 

1. [如何评价一个伪随机数生成算法的优劣](https://www.zhihu.com/question/20222653): 德国联邦信息安全办公室给出了随机数发生器质量评判的四个标准: K1, K2, K3, K4
	- K1——**相同序列**的概率非常低
 	- K2——符合**统计学的平均性**，比如所有数字出现概率应该相同，卡方检验应该能通过，超长游程长度概略应该非常小，自相关应该只有一个尖峰，任何长度的同一数字之后别的数字出现概率应该仍然是相等的等等
 	- K3——不应该能够从一段序列**猜测**出随机数发生器的工作状态或者**下一个随机数**
 	- K4——不应该从随机数发生器的状态能猜测出随机数发生器**以前的工作状态**
1.  [用随机数填充一个位图](https://www.zhihu.com/question/20222653/answer/14387972)
	- [C#的System.Random类生成的随机数填充的位图](https://i.imgur.com/YVbWgmn.jpg)
	- [php的rand函数生成的随机数填充的位图](https://i.imgur.com/4sEwPmx.jpg)

1.  [为什么扎克伯格只穿同一件T恤？](https://zhuanlan.zhihu.com/p/35716914): “人是如何创造出各种理论，来解释自身对于世界的经验呢？他们必须将经验一般化，从深受随机性和噪声影响的数据中找出模式。” 将物理规律，哲学规律，人类的模式和规律都理解为一种**信息压缩**的话，自然可以理解为啥扎克伯格只穿同一件T恤了。
1. [实现一个去中心化的年会抽奖程序](https://zhuanlan.zhihu.com/p/25314996): 我们需要一种「可验证」的随机数生成算法，即这个算法不应该是运行在单个设备上的，而是可以在不同的设备上多次运行，并且总是得到相同的结果，这样才能被大家信服 —— 每个人都可以在自己的设备上进行验算。
1. [如果某一天证实随机数根本就不存在，会对生活的各个领域产生什么样的影响？](https://www.zhihu.com/question/25071298/answer/30005398): 如果如同《三体》里面讲的一样，未来的某一天人类发现随机数根本就不存在(量子物理的随机也被证伪)，所有的随机方式都有可能被(低成本)破解。会对我们目前的生活(各个领域)产生什么样的影响？
1. [扒一扒随机数（Random Number）的诞生历史](https://zhuanlan.zhihu.com/p/25888319): 如果你回头看一下所有的随机数生成器的专利，你可能会感受到就像现代版的第一次制造飞机的浪潮一样。
1. [灭霸使用了什么样的随机数生成方法来保证公平？](https://www.zhihu.com/question/277121161/answer/392676492): 接口能用就行了，我TM看源码干嘛？/ divide and conquer, 可谓用心良苦。
1. [哪种随机数生成算法最适合游戏使用?](https://www.zhihu.com/question/34515945/answer/59082990)

